
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSRF Token -->
    <meta name="csrf-token" content="O3Cna8mU0pAADteOj6lFyPDutpvX7CDfq722ZNgM">

    <title>医療ガス安全管理システム</title>

    <!-- Styles -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
    <link href="css/common.css" rel="stylesheet">
    <link href="css/inspectionlist.css?1514284363" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="js/pickdate/themes/default.css" rel="stylesheet">
    <link href="js/pickdate/themes/default.date.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <nav class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header">

                    <!-- Collapsed Hamburger -->
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#app-navbar-collapse">
                        <span class="sr-only">Toggle Navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                    <!-- Branding Image -->
                    <a class="navbar-brand" href="home.html">
                        医療ガス安全管理システム
                    </a>
                </div>

                <div class="collapse navbar-collapse" id="app-navbar-collapse">
                    <!-- Left Side Of Navbar -->
                    <ul class="nav navbar-nav">
                        &nbsp;
                    </ul>

                    <!-- Right Side Of Navbar -->
                    <ul class="nav navbar-nav navbar-right">
                        <!-- Authentication Links -->
							<li><a href="group_invitation.html"><span class="mw">グループ招待</span></a></li>
                            <li><a href="inspection_list.html"><span class="mw">点検管理</span></a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                                    <span class="mw">マスタ管理 <span class="caret"></span></span>
                                </a>

                                <ul class="dropdown-menu" role="menu">
                                    <li>
										<a href="user_list.html">ユーザーマスター</a>
                                        <a href="equipment_list.html">機器マスター</a>
										<a href="equipment_category_list.html">機器種類マスター</a>
                                        <a href="Attribute_list.html">属性マスター</a>
                                        <a href="location_list.html">場所マスター</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                                    <span class="mw">ユーザー名<span class="caret"></span></span>
                                </a>

                                <ul class="dropdown-menu" role="menu">
                                    <li>
										<a href="personal_settings.html">個人設定</a>
										<a href="group_select.html">グループ選択</a>
                                        <a href="login.html">ログアウト</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                </div>
            </div>
        </nav>

        <div class="container">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pankz-list">
		<a href="home.html">ホーム</span></a>　/　
		<a href="inspection_list.html">点検一覧</span></a>
	</div>
    <div class="row">
        <!-- 検索項目入力 -->
        <div id="edit-form" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <form class="form-horizontal">
                <!-- ユーザー名 -->
                <div class="form-group">
                    <label class="control-label col-xs-12 col-sm-2" for="InputName">設備名</label>
            		<div class="col-xs-10 col-sm-9">
            			<input type="text" class="form-control" id="InputName" placeholder="設備名を入力してください">
            		</div>
                    <i id="search-plus" class="fa fa-plus-square fa-skyblue fa-2x" aria-hidden="true"></i>
                </div>
                <div id="search-detail" style="display:none;">
                    <!-- 設備種類 -->
                    <div class="form-group">
                		<label class="control-label col-sm-2" for="SelectCategory">設備種類</label>
                		<div class="col-sm-10">
                			<select class="form-control" id="SelectCategory">
                				<option value="0">指定なし</option>
                				<option value="1">マニフォールド</option>
                                <option value="2">定置式超低温液化ガス貯槽(CE)</option>
                                <option value="3">圧縮空気供給装置</option>
                                <option value="4">吸引供給装置</option>
                                <option value="5">配管端末器(アウトレット)</option>
                                <option value="6">警報表示版</option>
                			</select>
                		</div>
                	</div>
                    <!-- 点検種類 -->
                    <div class="form-group">
    					<label class="control-label col-sm-2" for="checkbox">点検種類</label>
                		<div class="col-sm-10" id="checkbox">
                			<div class="checkbox">
                                <label class="hashtag" style="background:gray;">
                					<input type="checkbox" class="chk chk-tag" value="1" checked> 日常点検
                				</label>
                                <label class="hashtag" style="background:gray;">
                					<input type="checkbox" class="chk chk-tag" value="2" checked> 定期点検
                				</label>
                			</div>
                		</div>
                	</div>
                    <!-- 点検結果 -->
                    <div class="form-group">
                        <label class="control-label col-sm-2" for="SelectInspectionStatus">点検結果</label>
                        <div class="col-sm-10">
                            <select class="form-control" id="SelectInspectionStatus">
                                <option value="0">指定なし</option>
                                <option value="success">正常</option>
                                <option value="failed">異常</option>
                            </select>
                        </div>
                    </div>
                    <!-- 実施完了日 -->
                    <div class="form-group">
                		<label class="control-label col-sm-2" for="SelectInspectionDate">実施完了日</label>
                		<div class="col-sm-10">
                            <div class="radio">
                                <select class="form-control" id="SelectInspectionDate">
                                    <option value="0">指定なし</option>
                                    <option value="1">未完了</option>
                                    <option value="2">日時指定</option>
                                </select>
                            </div>
                            <div id="conditions-between" style="display:none;">
                                <label class="control-label" for="conditions-from">From</label>
                                <input type="text" class="form-control datepicker" id="conditions-from" placeholder="From">
                                <label class="control-label" for="conditions-to">To</label>
                                <input type="text" class="form-control datepicker" id="conditions-to" placeholder="To">
                            </div>
                		</div>
                	</div>
					<!-- 承認 -->
					<div class="form-group">
						<label class="control-label col-sm-2" for="checkbox">承認</label>
						<div class="col-sm-10" id="checkbox">
							<div class="checkbox">
								<label class="hashtag" style="background:gray;">
									<input type="checkbox" class="chk chk-tag" value="1" checked> 未承認
								</label>
								<label class="hashtag" style="background:gray;">
									<input type="checkbox" class="chk chk-tag" value="2" checked> 承認済み
								</label>
							</div>
						</div>
					</div>
                </div>
        		<button type="button" id="form-search" class="btn btn-default col-xs-12 col-sm-offset-10 col-sm-2"><i class="fa fa-search fa-fw" aria-hidden="true"></i>検索</button>
            </form>
        </div>

        <!-- 一覧 -->
        <div id="edit-list" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <h3 class="col-xs-12 col-sm-10 col-md-10 col-lg-10">点検一覧</h3>
            <div id="tbl-area" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<div>
	                <table class="table table-striped table-bordered">
	                    <thead>
	                        <tr>
	                            <th>項番</th>
	                            <th>設備名</th>
	                            <th>設備種類</th>
	                            <th>点検名</th>
	                            <th>点検結果</th>
	                            <th>実施完了日</th>
	                            <th>&nbsp;</th>
	                        </tr>
	                    </thead>
	                    <tbody>
	                        <tr>
	                            <td class="tag-id text-center">1</td>
	                            <td>配管端末器001</td>
	                            <td>配管端末器(アウトレット)</td>
	                            <td>日常点検</td>
	                            <td>正常</td>
	                            <td>2018/1/1(月) 10:00:00</td>
	                            <td>
	                                <button value="1" class="update-edit btn btn-default edit col-xs-12 col-sm-12 col-md-12 col-lg-12">詳細</button>
	                            </td>
	                        </tr>
	                        <tr>
	                            <td class="tag-id text-center">2</td>
	                            <td>配管端末器002</td>
	                            <td>配管端末器(アウトレット)</td>
	                            <td>日常点検</td>
	                            <td>未実施</td>
	                            <td>未実施</td>
	                            <td>
	                                <button value="1" class="update-edit btn btn-default edit col-xs-12 col-sm-12 col-md-12 col-lg-12">詳細</button>
	                            </td>
	                        </tr>
	                    </tbody>
	                </table>
				</div>
            </div>
        </div>
    </div>
    <div>
        <a href="#" id="top-scroll" class="first-right"><i class="fa fa-arrow-circle-up fa-4x" aria-hidden="true"></i><p class="text-center">先頭へ</p></a>
    </div>
</div>
    </div>
    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <script type="text/javascript" src="js/ajax.js"></script>
    <script type="text/javascript" src="js/pickdate/picker.js"></script>
    <script type="text/javascript" src="js/pickdate/picker.date.js"></script>
    <script type="text/javascript" src="js/pickdate/picker.time.js"></script>
    <script type="text/javascript" src="js/pickdate/legacy.js"></script>
    <script type="text/javascript">
    var param = [];
    var position = 20;

    //
    // ページ読込時処理
    //
    $(function(){
        $('.datepicker').pickadate({
            format: 'yyyy/mm/dd'
        });
    });

    //
    // 検索条件：点検実施完了日指定
    //
    $('#conditions-from').on('change', function() {
        var toValue = $('#conditions-to').val();
        if(toValue == ''){
            $('#conditions-to').val($('#conditions-from').val());
        }
    });

    //
    // 検索条件：点検実施完了日指定
    //
    $('#SelectInspectionDate').on('change', function() {
        var date_val = $(this).val();
        if(date_val == 2){
            $("#conditions-between").css("display","block");
        }else{
            $("#conditions-between").css("display","none");
        }
    });

    //
    // 検索処理
    //
    $('#form-search').on('click', function() {
        // ローディング表示
        dispLoading('処理中･･･');

        // param = [{
        //     name : $('#InputName').val(),
        //     email : $('#InputEmail').val(),
        //     updated_at : $('#InputSelect').val(),
        //     attribute : $('.chk:checked').map(function(){
    	// 		return $(this).val();
    	// 	}).get(),
        //     position : 0
        // }];
        //
        // // テーブル情報取得
        // var ajax = request('/user_get',param,'O3Cna8mU0pAADteOj6lFyPDutpvX7CDfq722ZNgM','get');
        //
        // ajax.done(function(response, textStatus, jqXHR) {
        //     $('#tbl-area tbody').empty();
        //     $('#tbl-area tbody').append(response);
        // }).fail(function(jqXHR, textStatus, errorThrown ) {
        //
        // });
        //
        // position = 20;

        // ローディング終了
        $("#loading").remove();
    });

    //
    // 新規登録画面へ移動
    //
    $('#new-edit').on('click', function() {
        location.href = "inspection_detail.html";
    });

	//
	// 変更登録画面へ移動
	//
	$(document).on('click',".update-edit",function() {
		location.href = "inspection_detail.html" + "?id=" + $(this).val();
	});

    //
    // トップへスクロール
    //
    $('#top-scroll').on('click',function(){
        var position = $(".navbar-static-top").offset().top;
        $("html,body").animate({
            scrollTop : position
        }, {
            queue : false
        });
    });

    //
    // 検索窓表示
    //
    $('#search-plus').on('click',function(){
        $('#search-detail').toggle(function() {
            if ($(this).is(':visible')) {
                //「+」→「-」アイコンへ変更
                $('#search-plus').removeClass('fa-plus-square fa-skyblue');
                $('#search-plus').addClass('fa-minus-square fa-red');
            } else {
                //「-」→「+」アイコンへ変更
                $('#search-plus').removeClass('fa-minus-square fa-red');
                $('#search-plus').addClass('fa-plus-square fa-skyblue');
            }
        });
    });

    //
    // ハッシュタグ操作
    //
    $('.chk-tag').on('click',function(){
        $(this).parent('.hashtag').toggleClass('not-checked');
    });

    //
    // スクロールが一番下の時に発火するイベント
    //
    $(window).on('scroll', function(){
        var docHeight = $(document).innerHeight(), //ドキュメントの高さ
            windowHeight = $(window).innerHeight(), //ウィンドウの高さ
            pageBottom = docHeight - windowHeight; //ドキュメントの高さ - ウィンドウの高さ
        if(pageBottom == $(window).scrollTop()) {
            // ローディング表示
            dispLoading('処理中･･･');

            // param = [{
            //     name : $('#InputName').val(),
            //     email : $('#InputEmail').val(),
            //     updated_at : $('#InputSelect').val(),
            //     attribute : $('.chk:checked').map(function(){
        	// 		return $(this).val();
        	// 	}).get(),
            //     position : position
            // }];
            //
            // // テーブル情報取得
            // var ajax = request('/user_get',param,'O3Cna8mU0pAADteOj6lFyPDutpvX7CDfq722ZNgM','get');
            //
            // ajax.done(function(response, textStatus, jqXHR) {
            //     $('#tbl-area tbody').append(response);
            // }).fail(function(jqXHR, textStatus, errorThrown ) {
            //
            // });
            //
            // position += 20;

            // ローディング終了
            $("#loading").remove();
        }
    });
</script>
</body>
</html>
